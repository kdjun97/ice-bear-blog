---
layout: post
title:  "Project 시작"
date:   2021-02-01 14:40:30 +0800
categories: [Tech]
excerpt: Using Flutter, I'm gonna make a program to communicate through lots of clients.
tags:
  - Project
  - Flutter
  - GHOST
  - GBC
---

Project Title: 승화는_거짓말쟁이 (Liar Game)  
Description: Flutter를 이용하여 Liar 게임 만들기  
2/1부터 시작.

## 네트워크가 통신하는 방법

인터넷 상에서는 서로 다른 기기(혹은 PC)끼리 통신을 할 때, 아이피가 필요하다.  
> IP: 컴퓨터 네트워크에서 장치들이 서로를 인식하고 통신을 하기 위해서 사용하는 특수한 번호  

출처: [위키백과](https://ko.wikipedia.org/wiki/IP_%EC%A3%BC%EC%86%8C)  

아이피는 다시 공인 아이피(Public IP)와, 사설 아이피(Private IP)로 나뉜다.  

`공인 IP(Public IP)`  
- 인터넷 사용자의 Local Network를 식별하기 위해 ISP(Internet Service Provider)가 제공하는 IP 주소.  
- 세상에서 단 하나뿐인 IP  
- 외부에도 공개되어 있기 때문에, 인터넷이 연결된 다른 PC로부터의 접근이 가능.  

`사설 IP(Private IP)`  
- 내부망 전용 IP  
- 일반 가정이나 회사에 할당된 네트워크의 IP  
- IPv4의 IP Address 부족 때문에 서브넷팅된 IP  
- 내부망에서만 사용되기 때문에, 서로 다른 내부망에서 동일한 IP를 구성하더라도 상관 없다.  
- 보통 192.168.x.x로 구성됨.  

`고정 IP`  
- 컴퓨터에 고정적으로 부여된 IP  
- 한번 부여되면 IP를 반납하기 전까지는 다른 장비에 할당되지 않음.  

`유동 IP`  
- 고정적이지 않은 IP  
- 컴퓨터를 사용할 때 남아있는 IP중 돌아가면서 부여  

![통신 이해](/assets/images/Project_Liar/Communication.png)  
위 그림을 보자. [출처](https://velog.io/@hidaehyunlee/%EA%B3%B5%EC%9D%B8Public-%EC%82%AC%EC%84%A4Private-IP%EC%9D%98-%EC%B0%A8%EC%9D%B4%EC%A0%90)  
사설망1에 있는 핸드폰은 사설망2에 있는 핸드폰과 통신을 할 수 없다.  
또, 인터넷에서는 공인 IP 178.145.57.144에 접속할 수 있지만, 사설IP인 192.168.x.x에는 접속을 할 수 없다.  
이렇게 사설 IP가 할당된 장비는 공유기를 통해 인터넷에 접속을 할 수 있게 된다.  
그리고 사설망1과 사설망2끼리의 통신도 이런식으로 이루어진다.  

또한, 인터넷 상에서 서버를 운영하고자 할 때는 공인 IP를 고정 IP로 부여해야 한다.  
공인 IP -> 나만의 서버를 만들고,  
고정 IP -> 내 서버가 아닌 다른 사람의 IP로 접속될 수 있음을 방지  

현재 가정에서 사용하는 인터넷 서비스는 각 가정마다 공인 IP를 유동 IP로 부여, 공유기 내에서도 사설 IP를 유동 IP로 부여하고 있다.  

채팅(정보 통신)을 위한 서버는 대부분 고정 IP를 사용해야한다.  
하지만 고정 IP의 서버를 구축하려면 비용이 발생한다.  

본 프로젝트에서는 서버를 구축하는 비용을 없애기 위해 같은 공유기 내에서만 통신이 가능하도록 구현할 것이다.  
> 본 프로젝트에서는 외부와 통신이 필요없지만, 만약 외부에서 내부로 통신을 해야하는 경우에는 port forwarding을 해야한다.  

## 실험(혹은 구현에 대한 내 생각)

서버와 클라이언트를 두고 클라이언트에서 data를 서버로 넘겨주면, 서버가 자신을 제외한 모든 client들에게 **broadcast**해주는 방식으로 통신을 하려고 한다.  

1. 서버를 데스크탑에서 켜주고, 핸드폰은 client.  
- 이 경우는 데스크탑에서 서버를 켜줘야 통신이 가능하다는 귀찮음이 있다.  
- 또 서버용 스크립트와 클라이언트용 스크립트 두개를 만들어야한다.  

2. 하나의 스크립트로 서버와 클라이언트가 할 일을 합쳐주고, 버튼을 만들어 서버와 클라이언트를 앱에서 킨다.  
- 이 경우는 5명이 게임을 하고싶을 때, 1명은 서버용으로 서버를 켜줘야하기 때문에, 4명만 게임을 할 수 있다는 단점이 있을 것으로 예상된다. 
- **하지만 데스크탑에서  서버를 켜주는 번거로운 일 보단 나을것으로 판단되어 일단 이렇게 구현해보고 다른 방법을 찾아보자.**  